name: PR File

on:
  push:
    branches:
      - v99
    paths-ignore:
      - ".github/**"

jobs:
  pull-request:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
        with:
          token: ${{ secrets.API_TOKEN_GITHUB }}
          repository: Fit-Iuri/actions-paste
          # fetch-depth: 0
      - run: |
          git fetch
      - run: |
          git clone https://github.com/Fit-Iuri/actions-paste.git
      - run: |
          echo ${{ secrets.API_TOKEN_GITHUB }} | gh auth login
          gh pr create --base main --head features --title main --body main

      # - name: Create pull request
      #   uses: Fit-Iuri/action-pr-another-repo@main
      #   env:
      #     API_TOKEN_GITHUB: ${{ secrets.API_TOKEN_GITHUB }}
      #   with:
      #     source_folder: "*"
      #     destination_repo: "Fit-Iuri/actions-paste"
      #     destination_head_branch: "v99"
      #     user_email: "iuri.mendes@fitbank.com.br"
      #     user_name: "Fit-Iuri"
      # # Fit-Iuri/action-pull-request-another-repo@main
      # - name: Create pull request actions-paste-2
      #   uses: Fit-Iuri/action-pr-another-repo@main
      #   env:
      #     API_TOKEN_GITHUB: ${{ secrets.API_TOKEN_GITHUB }}
      #   with:
      #     source_folder: "*"
      #     destination_repo: "Fit-Iuri/actions-paste-2"
      #     destination_head_branch: "features"
      #     destination_base_branch: "v99"
      #     user_email: "iuri.mendes@fitbank.com.br"
      #     user_name: "Fit-Iuri"
